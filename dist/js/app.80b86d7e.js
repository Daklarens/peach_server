(function(){"use strict";var t={4065:function(t,e,s){var a=s(5130),n=s(6768);const i=t=>((0,n.Qi)("data-v-33988175"),t=t(),(0,n.jt)(),t),o={id:"app"},r={key:0,class:"loading"},l=i((()=>(0,n.Lk)("div",{class:"content"},[(0,n.Lk)("div",{class:"logo"}),(0,n.Lk)("div",{class:"spinner-border text-light lst",role:"status"}),(0,n.Lk)("p",{class:"loading-text"},"Loading..."),(0,n.Lk)("p",{class:"version"},"v.2.0")],-1))),c=[l],d={key:1},u={key:0,class:"fixed-bottom navbar-expand-sm bg-light"},h={class:"nav nav-pills nav-fill gap-2 p-2 small rounded-1 shadow-sm colorss",role:"tablist",style:{"--bs-nav-link-color":"#ff7e5f","--bs-nav-pills-link-active-color":"#fff","--bs-nav-pills-link-active-bg":"#ff7e5f"}},p=i((()=>(0,n.Lk)("i",{class:"bi bi-envelope-open nav-link rounded-5","data-bs-toggle":"tab",type:"button",role:"tab","aria-selected":"true",style:{"font-size":"1.5rem"}},null,-1))),g=[p],m=i((()=>(0,n.Lk)("i",{class:"bi bi-arrow-through-heart-fill nav-link active rounded-5","data-bs-toggle":"tab",type:"button",role:"tab","aria-selected":"true",style:{"font-size":"1.5rem"}},null,-1))),k=[m],v=i((()=>(0,n.Lk)("i",{class:"bi bi-chat-heart nav-link rounded-5","data-bs-toggle":"tab",type:"button",role:"tab","aria-selected":"true",style:{"font-size":"1.5rem"}},null,-1))),b=[v],f=i((()=>(0,n.Lk)("i",{class:"bi bi-person-fill nav-link rounded-5","data-bs-toggle":"tab",type:"button",role:"tab","aria-selected":"true",style:{"font-size":"1.5rem"}},null,-1))),y=[f];function L(t,e,s,a,i,l){return(0,n.uX)(),(0,n.CE)("div",o,[((0,n.uX)(),(0,n.Wv)((0,n.$y)(t.currentComponent))),i.loading?((0,n.uX)(),(0,n.CE)("div",r,c)):((0,n.uX)(),(0,n.CE)("div",d,[t.actMenu?((0,n.uX)(),(0,n.CE)("nav",u,[(0,n.Lk)("ul",h,[(0,n.Lk)("li",{class:"nav-item",onClick:e[0]||(e[0]=t=>l.loadComponent("repost")),role:"presentation"},g),(0,n.Lk)("li",{class:"nav-item",onClick:e[1]||(e[1]=t=>l.loadComponent("anketsNew")),role:"presentation"},k),(0,n.Lk)("li",{class:"nav-item",onClick:e[2]||(e[2]=t=>l.loadComponent("matchAnkets")),role:"presentation"},b),(0,n.Lk)("li",{class:"nav-item",onClick:e[3]||(e[3]=t=>l.loadComponent("editPerson")),role:"presentation"},y)])])):(0,n.Q3)("",!0)]))])}s(1373);const C="/api/users";async function D(t,e){try{const s=await fetch(C+t,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!s.ok)throw new Error(`Ошибка: ${s.status} ${s.statusText}`);const a=await s.json();return console.log("Ответ от сервера:",a),a}catch(s){console.error("Ошибка при запросе:",s)}}async function w(t,e){try{const s=await fetch(C+t,{method:"POST",body:e,headers:{}});if(!s.ok)throw new Error(`Ошибка: ${s.status} ${s.statusText}`);const a=await s.json();return console.log("Ответ от сервера:",a),a}catch(s){console.error("Ошибка при запросе:",s)}}async function A(t,e){try{const s=await fetch(C+t,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!s.ok)throw new Error(`Ошибка: ${s.status} ${s.statusText}`);const a=await s.json();return console.log("Ответ от сервера:",a),a}catch(s){console.error("Ошибка при запросе:",s)}}var x=s(782);const _=t=>((0,n.Qi)("data-v-3ebaa3ba"),t=t(),(0,n.jt)(),t),S={class:"container messDiv"},M={class:"p-5 rounded mt-3"},E={class:"col-md-7 col-lg-8"},O={class:"profile-header"},I=["src"],T=_((()=>(0,n.Lk)("h4",{class:"mb-3 text-center"},"Заполните ваш профиль",-1))),F={class:"row g-3"},$={class:"col-12"},X=_((()=>(0,n.Lk)("label",{for:"firstName",class:"form-label"},"Ваше имя",-1))),P={class:"col-md-5"},j=_((()=>(0,n.Lk)("label",{for:"birthdate",class:"form-label"},"Дата рождения",-1))),N=["max"],U={class:"col-md-5"},Q=_((()=>(0,n.Lk)("label",{class:"form-label"},"Ваш пол",-1))),q=_((()=>(0,n.Lk)("option",{value:""},"Выбор ...",-1))),B=_((()=>(0,n.Lk)("option",{value:"1"},"Мужчина",-1))),G=_((()=>(0,n.Lk)("option",{value:"2"},"Девушка",-1))),H=[q,B,G],R={class:"col-12"},Y=_((()=>(0,n.Lk)("label",{for:"about",class:"form-label"},"Описание",-1))),z={class:"col-md-5"},K=_((()=>(0,n.Lk)("label",{class:"form-label"},"Вы ищите",-1))),W=_((()=>(0,n.Lk)("option",{value:""},"Выбор ...",-1))),J=_((()=>(0,n.Lk)("option",{value:"2"},"Девушек",-1))),Z=_((()=>(0,n.Lk)("option",{value:"1"},"Мужчин",-1))),V=[W,J,Z],tt=_((()=>(0,n.Lk)("hr",{class:"my-4"},null,-1))),et=["disabled"],st=_((()=>(0,n.Lk)("br",null,null,-1))),at=_((()=>(0,n.Lk)("br",null,null,-1))),nt=_((()=>(0,n.Lk)("br",null,null,-1))),it=_((()=>(0,n.Lk)("br",null,null,-1)));function ot(t,e,i,o,r,l){return(0,n.uX)(),(0,n.CE)("main",S,[(0,n.Lk)("div",M,[(0,n.Lk)("div",E,[(0,n.Lk)("div",O,[(0,n.Lk)("img",{src:t.user.avatar||s(8026),alt:"Avatar",onClick:e[0]||(e[0]=(...t)=>l.triggerFileInput&&l.triggerFileInput(...t)),style:{cursor:"pointer",border:"5px solid","border-color":"aliceblue"}},null,8,I)]),T,(0,n.Lk)("form",{onSubmit:e[10]||(e[10]=(0,a.D$)(((...t)=>l.handleSubmit&&l.handleSubmit(...t)),["prevent"])),class:"needs-validation",enctype:"multipart/form-data"},[(0,n.Lk)("div",F,[(0,n.Lk)("div",$,[X,(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":e[1]||(e[1]=e=>t.user.name=e),type:"text",class:"form-control",placeholder:"",required:"",onInput:e[2]||(e[2]=(...t)=>l.validateName&&l.validateName(...t)),title:"Только буквы и пробелы"},null,544),[[a.Jo,t.user.name]])]),(0,n.Lk)("div",P,[j,(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":e[3]||(e[3]=e=>t.user.birthdate=e),type:"date",class:"form-control",required:"",max:r.maxDate,onChange:e[4]||(e[4]=(...t)=>l.validateBirthdate&&l.validateBirthdate(...t))},null,40,N),[[a.Jo,t.user.birthdate]])]),(0,n.Lk)("div",U,[Q,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":e[5]||(e[5]=e=>t.user.sex=e),class:"form-select",id:"sex",required:""},H,512),[[a.u1,t.user.sex]])]),(0,n.Lk)("div",R,[Y,(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":e[6]||(e[6]=e=>t.user.about=e),type:"text",class:"form-control",placeholder:"Люблю гулять по Москве",required:"",onInput:e[7]||(e[7]=(...t)=>l.validateAbout&&l.validateAbout(...t)),title:"Только буквы и пробелы"},null,544),[[a.Jo,t.user.about]])]),(0,n.Lk)("div",z,[K,(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":e[8]||(e[8]=e=>t.user.searchsex=e),class:"form-select",id:"search",required:""},V,512),[[a.u1,t.user.searchsex]])])]),(0,n.Lk)("input",{type:"file",ref:"fileInput",style:{display:"none"},onChange:e[9]||(e[9]=(...t)=>l.handleFileChange&&l.handleFileChange(...t)),accept:"image/png, image/jpeg, image/jpg"},null,544),tt,(0,n.Lk)("button",{class:"w-100 btn btn-lg",disabled:r.isDisabled,type:"submit"},"Сохранить",8,et)],32)])]),st,at,nt,it])}var rt={name:"createPerson",data(){return{event_avatar:"",isDisabled:!1,tg:window.Telegram.WebApp,maxDate:(new Date).toISOString().split("T")[0]}},computed:{...(0,x.aH)(["user","currentComponent"])},methods:{...(0,x.i0)(["updateUserData","changeComponent"]),triggerFileInput(){this.$refs.fileInput.click()},handleSubmit(){this.updateUserData(this.user),this.user.name&&this.user.avatar&&this.user.searchsex&&this.user.sex?this.uploadImage():alert("Данных не хватает для создания анкеты, вы загрузили фото?")},validateName(){this.user.name=this.user.name.replace(/[^A-Za-zА-Яа-яЁё\s]/g,"")},validateAbout(){},validateBirthdate(){const t=new Date(this.user.birthdate).getFullYear(),e=(new Date).getFullYear(),s=e-t;(s<16||s>60)&&alert("Возраст должен быть от 16 до 60 лет.")},handleFileChange(t){const e=t.target.files[0];e&&["image/jpeg","image/png","image/jpg"].includes(e.type)?(this.event_avatar=e,this.previewImage(e)):alert("Only JPG and PNG files are allowed!")},previewImage(t){const e=new FileReader;e.onload=t=>{this.user.avatar=t.target.result},e.readAsDataURL(t)},uploadImage(){if(!this.user.avatar)return void alert("Пожалуйста, выберите изображение для загрузки.");const t=new FormData;t.append("file",this.event_avatar),delete this.user.avatar,t.append("data",JSON.stringify(this.user)),t.append("token",JSON.stringify(this.user.token)),this.isDisabled=!0,w("/upload",t).then((t=>{t&&(this.updateUserData({token:t.token}),this.changeComponent("sucReg"))})).catch((t=>{alert("Ошибка при загрузке"),console.error("Error:",t)}))}}},lt=s(1241);const ct=(0,lt.A)(rt,[["render",ot],["__scopeId","data-v-3ebaa3ba"]]);var dt=ct,ut=s(4232);const ht=t=>((0,n.Qi)("data-v-b0f81188"),t=t(),(0,n.jt)(),t),pt={class:"demo-1"},gt={key:0,class:"overflow-auto",style:{"max-height":"100%","max-width":"100%","padding-top":"50%"}},mt=ht((()=>(0,n.Lk)("div",{class:""},[(0,n.Lk)("div",{class:"text-center"},[(0,n.Lk)("div",{class:"spinner-border text-light",role:"status"}),(0,n.Lk)("p",{class:"text-center text-light pt-4 mt-4"},"Загрузка анкет")])],-1))),kt=[mt],vt={key:1,class:"slideshow"},bt={class:"slides"},ft={class:"slide__title"},yt={class:"slide__desc"},Lt=ht((()=>(0,n.Lk)("br",null,null,-1))),Ct={class:"badge text-bg-light rounded-pill"},Dt={class:"slidenav d-flex gap-5 justify-content-center bubs"},wt={class:"d-flex gap-5 justify-content-center bubs"},At={class:"navigBTNS"},xt=["disabled"],_t=ht((()=>(0,n.Lk)("i",{class:"bi bi-heart-fill fs-1 pt-1"},null,-1))),St=[_t],Mt=ht((()=>(0,n.Lk)("div",{class:"dust-container-dsl"},null,-1))),Et={class:"navigBTNS mt-4"},Ot=ht((()=>(0,n.Lk)("i",{"data-v-637c8da4":"",class:"bi bi-box2-heart-fill fs-1"},null,-1))),It={key:0,class:"position-absolute top-0 start-100 translate-middle badge border border-light rounded-circle bg-danger p-2"},Tt=ht((()=>(0,n.Lk)("span",{class:"visually-hidden"},"unread messages",-1))),Ft=[Tt],$t={class:"navigBTNS"},Xt=["disabled"],Pt=ht((()=>(0,n.Lk)("i",{class:"bi bi-x-lg fs-1"},null,-1))),jt=[Pt],Nt=ht((()=>(0,n.Lk)("div",{class:"dust-container-like"},null,-1)));function Ut(t,e,s,a,i,o){return(0,n.uX)(),(0,n.CE)("body",pt,[(0,n.Lk)("main",null,[i.loading?((0,n.uX)(),(0,n.CE)("div",gt,kt)):((0,n.uX)(),(0,n.CE)("div",vt,[(0,n.Lk)("div",bt,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(t.anket,((t,e)=>((0,n.uX)(),(0,n.CE)("div",{key:t._id,class:(0,ut.C4)(["slide",{"slide--current":0===e}])},[(0,n.Lk)("div",{class:"slide__img",style:(0,ut.Tr)({backgroundImage:`url(/api/users/f1/${t.avatar})`})},null,4),(0,n.Lk)("h2",ft,(0,ut.v_)(t.name),1),(0,n.Lk)("p",yt,[(0,n.eW)((0,ut.v_)(t.about),1),Lt,(0,n.Lk)("span",Ct,"Возраст: "+(0,ut.v_)(o.calculateAge(t.birthdate)),1)])],2)))),128))]),(0,n.Lk)("nav",Dt,[(0,n.Lk)("div",wt,[(0,n.Lk)("div",At,[(0,n.Lk)("button",{class:"btn btn-light rounded-circle p-4 w-100 h-100 lh-1 slidenav__item--next animated-button d-flex justify-content-center align-items-center",onClick:e[0]||(e[0]=t=>o.prevSlide(!0)),disabled:i.isDisabled,type:"button"},St,8,xt)]),Mt,(0,n.Lk)("div",Et,[(0,n.Lk)("button",{type:"button",class:"btn btn-light rounded-circle position-relative p-4 w-100 h-100 lh-1 d-flex justify-content-center align-items-center",onClick:e[1]||(e[1]=(...t)=>o.nextPage&&o.nextPage(...t))},[Ot,i.update?((0,n.uX)(),(0,n.CE)("span",It,Ft)):(0,n.Q3)("",!0)])]),(0,n.Lk)("div",$t,[(0,n.Lk)("button",{class:"btn btn-light border-light rounded-circle p-4 w-100 h-100 lh-1 slidenav__item--prev reverse-animated-button d-flex justify-content-center align-items-center",onClick:e[2]||(e[2]=t=>o.prevSlide(!1)),disabled:i.isDisabled,type:"button"},jt,8,Xt)]),Nt])])]))])])}function Qt(){setTimeout((()=>document.body.classList.add("render")),60);const t=Array.from(document.querySelectorAll("nav.demos > .demo")),e=t=>{document.body.classList.remove("render"),document.body.addEventListener("transitionend",(()=>window.location=t.href))};t.forEach((t=>t.addEventListener("click",(t=>{t.preventDefault(),e(t.target)}))))}function qt(){document.querySelector(".animated-button").addEventListener("click",(function(){const t=this,e=document.querySelector(".dust-container-like"),s=t.getBoundingClientRect();for(let a=0;a<30;a++){const t=document.createElement("span");t.classList.add("particle-like"),e.appendChild(t);const a=2*Math.random()*Math.PI,n=30+120*Math.random(),i=Math.cos(a)*n,o=Math.sin(a)*n;t.style.setProperty("--translateX",`${i}px`),t.style.setProperty("--translateY",`${o}px`);const r=s.left+s.width/2,l=s.top+s.height/2;t.style.left=`${r}px`,t.style.top=`${l}px`,t.style.animation="dustAnimation 1.5s forwards",t.addEventListener("animationend",(()=>t.remove()))}}))}function Bt(){document.querySelector(".reverse-animated-button").addEventListener("click",(function(){const t=this,e=document.querySelector(".dust-container-dsl"),s=t.getBoundingClientRect();for(let a=0;a<30;a++){const t=document.createElement("span");t.classList.add("particle-dsl"),e.appendChild(t);const a=2*Math.random()*Math.PI,n=60+60*Math.random(),i=Math.cos(a)*n,o=Math.sin(a)*n,r=s.left+s.width/2,l=s.top+s.height/2;t.style.left=`${r}px`,t.style.top=`${l}px`,t.style.setProperty("--translateX",`${i}px`),t.style.setProperty("--translateY",`${o}px`),t.style.animation="dustAnimationInward 1.5s forwards",t.addEventListener("animationend",(()=>t.remove()))}}))}function Gt(t,e,s){var a;return function(){var n=this,i=arguments,o=function(){a=null,s||t.apply(n,i)},r=s&&!a;clearTimeout(a),a=setTimeout(o,e),r&&t.apply(n,i)}}class Ht{constructor(t){this.DOM={},this.DOM.el=t,this.settings={animation:{slides:{duration:600,easing:"easeOutQuint"},shape:{duration:300,easing:{in:"easeOutQuint",out:"easeOutQuad"}}},frameFill:"url(#gradient1)"},this.current=0,this.init()}init(){this.updateSlides(),this.DOM.nav=this.DOM.el.querySelector(".slidenav"),this.DOM.nextCtrl=this.DOM.nav.querySelector(".slidenav__item--next"),this.DOM.prevCtrl=this.DOM.nav.querySelector(".slidenav__item--prev"),this.createFrame(),this.initEvents(),this.updateSlides()}updateSlides(){this.DOM.slides=Array.from(this.DOM.el.querySelectorAll(".slides > .slide")),this.slidesTotal=this.DOM.slides.length,this.slidesTotal>0&&this.DOM.slides.forEach(((t,e)=>{e===this.current?t.classList.add("slide--current"):t.classList.remove("slide--current")}))}createFrame(){this.rect=this.DOM.el.getBoundingClientRect(),this.frameSize=this.rect.width/12,this.paths={initial:this.calculatePath("initial"),final:this.calculatePath("final")},this.DOM.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.DOM.svg.setAttribute("class","shape"),this.DOM.svg.setAttribute("width","100%"),this.DOM.svg.setAttribute("height","100%"),this.DOM.svg.setAttribute("viewbox",`0 0 ${this.rect.width} ${this.rect.height}`),this.DOM.svg.innerHTML=`\n            <defs>\n            <linearGradient id="gradient1" x1="0%" y1="0%" x2="0%" y2="100%">\n                <stop offset="0%" stop-color="#feb47b"></stop>\n                <stop offset="100%" stop-color="#ff7e5f"></stop>\n            </linearGradient>\n            </defs>\n            <path fill="${this.settings.frameFill}" d="${this.paths.initial}"/>\n        `,this.DOM.el.insertBefore(this.DOM.svg,this.DOM.nav),this.DOM.shape=this.DOM.svg.querySelector("path")}updateFrame(){this.paths.initial=this.calculatePath("initial"),this.paths.final=this.calculatePath("final"),this.DOM.svg.setAttribute("viewbox",`0 0 ${this.rect.width} ${this.rect.height}`),this.DOM.shape.setAttribute("d",this.isAnimating?this.paths.final:this.paths.initial)}calculatePath(t="initial"){return"initial"===t?`M 0,0 0,${this.rect.height} ${this.rect.width},${this.rect.height} ${this.rect.width},0 0,0 Z M 0,0 ${this.rect.width},0 ${this.rect.width},${this.rect.height} 0,${this.rect.height} Z`:`M 0,0 0,${this.rect.height} ${this.rect.width},${this.rect.height} ${this.rect.width},0 0,0 Z M ${this.frameSize},${this.frameSize} ${this.rect.width-this.frameSize},${this.frameSize} ${this.rect.width-this.frameSize},${this.rect.height-this.frameSize} ${this.frameSize},${this.rect.height-this.frameSize} Z`}initEvents(){this.DOM.nextCtrl.addEventListener("click",(()=>this.navigate("next"))),this.DOM.prevCtrl.addEventListener("click",(()=>this.navigate("next"))),window.addEventListener("resize",Gt((()=>{this.rect=this.DOM.el.getBoundingClientRect(),this.updateFrame()}),20)),document.addEventListener("keydown",(t=>{const e=t.keyCode||t.which;37===e?this.navigate("prev"):39===e&&this.navigate("next")}))}navigate(t="next"){if(this.isAnimating)return!1;this.isAnimating=!0,this.updateSlides();const e=anime({targets:this.DOM.shape,duration:this.settings.animation.shape.duration,easing:this.settings.animation.shape.easing.in,d:this.paths.final}),s=()=>new Promise(((e,s)=>{const a=this.DOM.slides[this.current];anime({targets:a,duration:this.settings.animation.slides.duration,easing:this.settings.animation.slides.easing,translateX:"next"===t?-1*this.rect.width:this.rect.width,complete:()=>{a.classList.remove("slide--current"),e()}}),this.current="next"===t?this.current<this.slidesTotal-1?this.current+1:0:this.current>0?this.current-1:this.slidesTotal-1;const n=this.DOM.slides[this.current];n.classList.add("slide--current"),anime({targets:n,duration:this.settings.animation.slides.duration,easing:this.settings.animation.slides.easing,translateX:["next"===t?this.rect.width:-1*this.rect.width,0]});const i=n.querySelector(".slide__img");anime.remove(i),anime({targets:i,duration:4*this.settings.animation.slides.duration,easing:this.settings.animation.slides.easing,translateX:["next"===t?200:-200,0]})})),a=()=>{anime({targets:this.DOM.shape,duration:this.settings.animation.shape.duration,delay:150,easing:this.settings.animation.shape.easing.out,d:this.paths.initial,complete:()=>this.isAnimating=!1})};e.finished.then(s).then(a)}}var Rt={name:"anketsNew",data(){return{loading:!0,isDisabled:!1,currentSlide:0,nAnkets:-1,update:!1}},computed:{...(0,x.aH)(["user","anket","actions","actMenu"])},methods:{...(0,x.i0)(["updateAnketData","addAnketData","updateActionsData","updateUserData","updateMenuData","dellAnketData","dellActionsData","changeComponent"]),triggerHapticFeedback(t){window.Telegram?.WebApp?.HapticFeedback?t?window.Telegram.WebApp.HapticFeedback.impactOccurred("heavy"):window.Telegram.WebApp.HapticFeedback.impactOccurred("light"):console.log("Haptic feedback не поддерживается.")},async getFetchAnkets(){const t=this.user.token;let e=null;e=0!==this.actions.length&&this.actions;const s=await A("/ankets",{token:t,actions:e,page:this.currentSlide});0==s.data?(this.loading=!0,this.updateMenuData(!0)):(this.loading=!1,this.updateMenuData(!1)),this.currentSlide=this.currentSlide+s.data.length-1,this.updateAnketData(s.data),this.updateUserData({token:s.token})},async updateFetchAnkets(){const t=this.user.token;let e=null;e=0!==this.actions.length&&this.actions;const s=await A("/ankets",{token:t,actions:e,page:this.currentSlide});0===s.data.length||(this.addAnketData(s.data),this.updateUserData({token:s.token}))},async actionsUser(t){const e=this.anket[this.nAnkets].tid;this.updateActionsData({tid:e,action:t}),this.nAnkets+1===this.anket.length&&this.changeComponent("noAncets"),this.anket.length<this.nAnkets+3&&(await this.updateFetchAnkets(),this.dellActionsData()),3===this.actions.length&&(await this.updateFetchAnkets(),this.dellActionsData())},async disableButtons(t){await this.actionsUser(t),this.isDisabled=!0,setTimeout((()=>{this.isDisabled=!1}),1450)},calculateAge(t){const e=new Date,s=new Date(t);let a=e.getFullYear()-s.getFullYear();const n=e.getMonth()-s.getMonth();return(n<0||0===n&&e.getDate()<s.getDate())&&a--,a},prevSlide(t){this.isDisabled||(this.nAnkets=this.nAnkets+1,this.disableButtons(t),this.triggerHapticFeedback(t))},nextPage(){this.changeComponent("matchAnkets"),this.triggerHapticFeedback()}},mounted(){this.getFetchAnkets().then((()=>{Qt(),new Ht(document.querySelector(".slideshow")),qt(),Bt()}))}};const Yt=(0,lt.A)(Rt,[["render",Ut],["__scopeId","data-v-b0f81188"]]);var zt=Yt;const Kt=t=>((0,n.Qi)("data-v-6b7bdc38"),t=t(),(0,n.jt)(),t),Wt={class:"container my-4"},Jt={class:"overflow-auto",style:{"max-height":"100%"}},Zt={class:"btn-group toggle-buttons",role:"group"},Vt={key:0,class:"row g-0 h-100 text-light text-center",style:{"padding-top":"100px"}},te=Kt((()=>(0,n.Lk)("h1",null,"У вас еще нет взаимных лайков",-1))),ee=[te],se={key:1,class:"loading position-absolute top-50 start-50 translate-middle-x"},ae=Kt((()=>(0,n.Lk)("div",{class:"gradient-div d-flex justify-content-center"},[(0,n.Lk)("p",{class:"position-absolute top-0 start-50 translate-middle-x"}),(0,n.Lk)("div",{class:"spinner-border text-light",role:"status"}),(0,n.Lk)("p",{class:"position-absolute text-center text-light pt-4 mt-4"},"Загрузка взаимностей")],-1))),ne=[ae],ie={key:2},oe={class:"row g-0 h-100"},re={class:"col-4"},le=["src"],ce={class:"col-8 h-100"},de={class:"card-body"},ue={class:"card-title"},he={class:"card-text"},pe=["onClick"],ge=Kt((()=>(0,n.Lk)("i",{class:"bi bi-chat-dots"},null,-1))),me={key:3},ke={class:"row g-0 h-100"},ve={class:"col-4"},be=["src"],fe={class:"col-8 h-100"},ye={class:"card-body"},Le={class:"card-title"},Ce={class:"card-text"},De=["onClick"],we=Kt((()=>(0,n.Lk)("i",{class:"bi bi-check2"},null,-1)));function Ae(t,e,s,a,i,o){return(0,n.uX)(),(0,n.CE)("div",Wt,[(0,n.Lk)("div",Jt,[(0,n.Lk)("div",Zt,[(0,n.Lk)("button",{type:"button",class:"btn btn-left active",onClick:e[0]||(e[0]=(...t)=>o.btShowMatch&&o.btShowMatch(...t))},"Взаимные"),(0,n.Lk)("button",{type:"button",class:"btn btn-right",onClick:e[1]||(e[1]=(...t)=>o.btShowLike&&o.btShowLike(...t))},"Вас лайкнули")]),i.endAnkets?((0,n.uX)(),(0,n.CE)("div",Vt,ee)):(0,n.Q3)("",!0),i.loading?((0,n.uX)(),(0,n.CE)("div",se,ne)):(0,n.Q3)("",!0),i.showMatch?((0,n.uX)(),(0,n.CE)("div",ie,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.match,((t,e)=>((0,n.uX)(),(0,n.CE)("div",{key:e,class:"card mx-auto shadow bg-white text-dark h-100 m-4",style:{"max-width":"540px"}},[(0,n.Lk)("div",oe,[(0,n.Lk)("div",re,[(0,n.Lk)("img",{src:`./api/users/f1/${t.avatar}`,class:"img-fluid rounded-start h-100"},null,8,le)]),(0,n.Lk)("div",ce,[(0,n.Lk)("div",de,[(0,n.Lk)("div",null,[(0,n.Lk)("h5",ue,(0,ut.v_)(t.name)+", "+(0,ut.v_)(o.calculateAge(t.birthdate)),1),(0,n.Lk)("p",he,(0,ut.v_)(t.about),1)]),(0,n.Lk)("a",{class:"btn btn-dark w-100 mt-4",onClick:e=>o.getPeachUser(t.tid,t.name)},[ge,(0,n.eW)(" Написать ")],8,pe)])])])])))),128))])):(0,n.Q3)("",!0),i.showLike?((0,n.uX)(),(0,n.CE)("div",me,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.myLike,((t,e)=>((0,n.uX)(),(0,n.CE)("div",{key:e,class:"card mx-auto shadow bg-white text-dark h-100 m-4",style:{"max-width":"540px"}},[(0,n.Lk)("div",ke,[(0,n.Lk)("div",ve,[(0,n.Lk)("img",{src:`./api/users/f1/${t.avatar}`,class:"img-fluid rounded-start h-100"},null,8,be)]),(0,n.Lk)("div",fe,[(0,n.Lk)("div",ye,[(0,n.Lk)("div",null,[(0,n.Lk)("h5",Le,(0,ut.v_)(t.name)+", "+(0,ut.v_)(o.calculateAge(t.birthdate)),1),(0,n.Lk)("p",Ce,(0,ut.v_)(t.about),1)]),(0,n.Lk)("a",{class:"btn btn-dark w-100 mt-4",onClick:e=>o.getRefresh(t.tid,t.name)},[we,(0,n.eW)(" Подтвердить и написать ")],8,De)])])])])))),128))])):(0,n.Q3)("",!0)])])}s(4114);var xe={name:"matchAnkets",data(){return{loading:!0,endAnkets:!1,match:[],myLike:[],showMatch:!1,showLike:!1}},computed:{...(0,x.aH)(["user","currentComponent"])},methods:{...(0,x.i0)(["changeComponent","updateMenuData"]),async getFetchMatch(){const t=this.user.token,e=await A("/match",{token:t});e.data?(this.match.push(...e.data),this.myLike.push(...e.myLike),this.loading=!1,this.endAnkets=!1,this.showMatch=!0):(e.myLike&&this.myLike.push(...e.myLike),this.loading=!1,this.endAnkets=!0)},async getRefresh(t,e){const s={...this.user,ttid:t,ancetName:e};await A("/getPeachUser",{data:s})},async getPeachUser(t,e){const s={...this.user,ttid:t,ancetName:e};await A("/getPeachUser",{data:s})},calculateAge(t){const e=new Date,s=new Date(t);let a=e.getFullYear()-s.getFullYear();const n=e.getMonth()-s.getMonth();return(n<0||0===n&&e.getDate()<s.getDate())&&a--,a},async btShowMatch(){0===this.match.length?(this.endAnkets=!0,this.showLike=!1,this.showMatch=!1):(this.endAnkets=!1,this.showLike=!1,this.showMatch=!0)},btShowLike(){this.endAnkets=!1,this.showMatch=!1,this.showLike=!0}},mounted(){this.updateMenuData(!0),this.getFetchMatch()}};const _e=(0,lt.A)(xe,[["render",Ae],["__scopeId","data-v-6b7bdc38"]]);var Se=_e;const Me=t=>((0,n.Qi)("data-v-ed3fb104"),t=t(),(0,n.jt)(),t),Ee={class:"messDiv text-center"},Oe=Me((()=>(0,n.Lk)("h1",null,"Создайте свою анкету",-1))),Ie=Me((()=>(0,n.Lk)("p",null,"Заполняйте и указывайте свои настоящие данные. Позже вы сможете выбрать, какие данные о вас необходимо скрыть",-1)));function Te(t,e,s,a,i,o){return(0,n.uX)(),(0,n.CE)("div",Ee,[Oe,Ie,(0,n.Lk)("button",{type:"button",onClick:e[0]||(e[0]=(...t)=>o.loadCreatePerson&&o.loadCreatePerson(...t)),class:"btn btn-lg btnBg"},"Начать 🍑")])}var Fe={name:"messReg",computed:{...(0,x.aH)(["currentComponent"])},methods:{...(0,x.i0)(["changeComponent"]),loadCreatePerson(){this.changeComponent("createPerson")}}};const $e=(0,lt.A)(Fe,[["render",Te],["__scopeId","data-v-ed3fb104"]]);var Xe=$e;const Pe=t=>((0,n.Qi)("data-v-dde1311a"),t=t(),(0,n.jt)(),t),je={class:"container"},Ne={class:"messDiv text-center"},Ue={key:0},Qe={key:1},qe=Pe((()=>(0,n.Lk)("p",null,null,-1)));function Be(t,e,s,i,o,r){const l=(0,n.g2)("DateWheelPicker"),c=(0,n.g2)("GenderSelector"),d=(0,n.g2)("LookingForSelector");return(0,n.uX)(),(0,n.CE)("div",je,[(0,n.Lk)("div",Ne,[t.user.name?((0,n.uX)(),(0,n.CE)("h1",Ue,(0,ut.v_)(`${t.user.name}, ${o.age}`),1)):((0,n.uX)(),(0,n.CE)("h1",Qe,(0,ut.v_)("Ваше имя"))),(0,n.Lk)("h3",null,(0,ut.v_)(o.zodiacSign||""),1),qe,(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=e=>t.user.name=e),type:"text",class:"form-control",placeholder:"Укажите ваше имя",required:"",onFocus:e[1]||(e[1]=(...t)=>r.onFocus&&r.onFocus(...t)),onBlur:e[2]||(e[2]=(...t)=>r.onBlur&&r.onBlur(...t)),onInput:e[3]||(e[3]=(...t)=>r.validateName&&r.validateName(...t)),title:"Только буквы и пробелы"},null,544),[[a.Jo,t.user.name]]),(0,n.bF)(l,{onDateSelected:r.handleDateSelected},null,8,["onDateSelected"]),(0,n.bF)(c,{onGenderSelected:r.updateGender},null,8,["onGenderSelected"]),(0,n.bF)(d,{onLookingForSelected:r.updateLookingFor},null,8,["onLookingForSelected"]),(0,n.Lk)("button",{type:"button",onClick:e[4]||(e[4]=(...t)=>r.loadCreatePerson&&r.loadCreatePerson(...t)),class:"btn btn-lg btnBg"},"Дальше")])])}const Ge={class:"date-picker"},He={key:0,class:"dropdown-list"},Re=["onClick"],Ye={key:0,class:"dropdown-list"},ze=["onClick"],Ke={key:0,class:"dropdown-list"},We=["onClick"];function Je(t,e,s,a,i,o){return(0,n.uX)(),(0,n.CE)("div",Ge,[(0,n.Lk)("div",{class:"dropdown",onClick:e[0]||(e[0]=t=>o.toggleDropdown("day"))},[(0,n.Lk)("span",null,(0,ut.v_)(i.selectedDay||"День"),1),i.isOpen.day?((0,n.uX)(),(0,n.CE)("ul",He,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.days,(t=>((0,n.uX)(),(0,n.CE)("li",{key:t,onClick:e=>o.selectDay(t)},(0,ut.v_)(t),9,Re)))),128))])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",{class:"dropdown",onClick:e[1]||(e[1]=t=>o.toggleDropdown("month"))},[(0,n.Lk)("span",null,(0,ut.v_)(i.selectedMonth?i.months[i.selectedMonth-1]:"Месяц"),1),i.isOpen.month?((0,n.uX)(),(0,n.CE)("ul",Ye,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.months,((t,e)=>((0,n.uX)(),(0,n.CE)("li",{key:e,onClick:t=>o.selectMonth(e+1)},(0,ut.v_)(t),9,ze)))),128))])):(0,n.Q3)("",!0)]),(0,n.Lk)("div",{class:"dropdown",onClick:e[2]||(e[2]=t=>o.toggleDropdown("year"))},[(0,n.Lk)("span",null,(0,ut.v_)(i.selectedYear||"Год"),1),i.isOpen.year?((0,n.uX)(),(0,n.CE)("ul",Ke,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.years,(t=>((0,n.uX)(),(0,n.CE)("li",{key:t,onClick:e=>o.selectYear(t)},(0,ut.v_)(t),9,We)))),128))])):(0,n.Q3)("",!0)])])}var Ze={name:"DatePicker",data(){const t=(new Date).getFullYear();return{selectedDay:"",selectedMonth:"",selectedYear:"",isOpen:{day:!1,month:!1,year:!1},days:Array.from({length:31},((t,e)=>e+1)),months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],years:Array.from({length:35},((e,s)=>t-16-s))}},methods:{toggleDropdown(t){this.isOpen={day:!1,month:!1,year:!1},this.isOpen[t]=!0},selectDay(t){this.selectedDay=t,this.isOpen.day=!1,this.emitDate()},selectMonth(t){this.selectedMonth=t,this.isOpen.month=!1,this.updateDaysInMonth(),this.emitDate()},selectYear(t){this.selectedYear=t,this.isOpen.year=!1,this.updateDaysInMonth(),this.emitDate()},emitDate(){if(this.selectedDay&&this.selectedMonth&&this.selectedYear){const t=`${this.selectedYear}-${String(this.selectedMonth).padStart(2,"0")}-${String(this.selectedDay).padStart(2,"0")}`;this.$emit("date-selected",t)}},handleClickOutside(t){this.$el.contains(t.target)||(this.isOpen={day:!1,month:!1,year:!1})},updateDaysInMonth(){const t=this.getDaysInMonth(this.selectedYear,this.selectedMonth);this.selectedDay>t&&(this.selectedDay=""),this.days=Array.from({length:t},((t,e)=>e+1))},getDaysInMonth(t,e){return t&&e?new Date(t,e,0).getDate():31}},mounted(){document.addEventListener("click",this.handleClickOutside)},beforeUnmount(){document.removeEventListener("click",this.handleClickOutside)}};const Ve=(0,lt.A)(Ze,[["render",Je],["__scopeId","data-v-1dfb7ed4"]]);var ts=Ve;const es={class:"d-flex gap-3"};function ss(t,e,s,a,i,o){return(0,n.uX)(),(0,n.CE)("div",es,[(0,n.Lk)("button",{onClick:e[0]||(e[0]=t=>o.selectGender("man")),class:(0,ut.C4)(["btn","man"===i.selectedGender?"bt-tap":"bt-select"])}," Я мужчина ",2),(0,n.Lk)("button",{onClick:e[1]||(e[1]=t=>o.selectGender("woman")),class:(0,ut.C4)(["btn","woman"===i.selectedGender?"bt-tap":"bt-select"])}," Я женщина ",2)])}var as={data(){return{selectedGender:null}},methods:{selectGender(t){this.selectedGender=t,this.$emit("genderSelected",t)}}};const ns=(0,lt.A)(as,[["render",ss],["__scopeId","data-v-2c0725d5"]]);var is=ns;const os=t=>((0,n.Qi)("data-v-601302ea"),t=t(),(0,n.jt)(),t),rs={class:"selector d-flex align-items-center justify-content-between"},ls=os((()=>(0,n.Lk)("i",{class:"bi bi-arrow-left-circle-fill"},null,-1))),cs=[ls],ds={class:"option-container"},us=os((()=>(0,n.Lk)("i",{class:"bi bi-arrow-right-circle-fill"},null,-1))),hs=[us];function ps(t,e,s,a,i,o){const r=(0,n.gN)("touch");return(0,n.bo)(((0,n.uX)(),(0,n.CE)("div",rs,[(0,n.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>o.prevOption&&o.prevOption(...t)),class:"arrow"},cs),(0,n.Lk)("div",ds,[(0,n.Lk)("span",{class:(0,ut.C4)(["option",i.animationClass]),onAnimationend:e[1]||(e[1]=(...t)=>o.resetAnimation&&o.resetAnimation(...t))},(0,ut.v_)(i.options[i.currentIndex]),35)]),(0,n.Lk)("button",{onClick:e[2]||(e[2]=(...t)=>o.nextOption&&o.nextOption(...t)),class:"arrow"},hs)])),[[r,o.nextOption,"swipe",{left:!0}],[r,o.prevOption,"swipe",{right:!0}]])}var gs={data(){return{options:["Ищу девушек","Ищу Мужчин"],currentIndex:0,animationClass:""}},methods:{nextOption(){this.startAnimation("left")},prevOption(){this.startAnimation("right")},startAnimation(t){this.animationClass="left"===t?"slide-out-left":"slide-out-right",setTimeout((()=>{"left"===t?(this.currentIndex=(this.currentIndex+1)%this.options.length,this.animationClass="slide-in-right"):(this.currentIndex=(this.currentIndex-1+this.options.length)%this.options.length,this.animationClass="slide-in-left"),this.$emit("lookingForSelected",this.options[this.currentIndex])}),200)},resetAnimation(){this.animationClass=""}}};const ms=(0,lt.A)(gs,[["render",ps],["__scopeId","data-v-601302ea"]]);var ks=ms,vs={name:"messReg",components:{DateWheelPicker:ts,GenderSelector:is,LookingForSelector:ks},data(){return{selectedDate:null,zodiacSign:"",age:"",selectedGender:null,selectedLookingFor:null,initialHeight:window.innerHeight,keyboardOpen:!1}},computed:{...(0,x.aH)(["user","currentComponent"]),selectedGenderText(){return"man"===this.selectedGender?"Мужчина":"woman"===this.selectedGender?"Женщина":"не выбран"},selectedLookingForText(){return"men"===this.selectedLookingFor?"Мужчин":"women"===this.selectedLookingFor?"Девушек":"не выбрано"}},methods:{...(0,x.i0)(["updateUserData","changeComponent"]),loadCreatePerson(){this.changeComponent("createPerson")},validateName(){},onFocus(){this.keyboardOpen=!0,document.body.style.overflow="clip"},onBlur(){this.keyboardOpen=!1,document.body.style.overflow="clip",window.scrollTo(0,0)},handleResize(){const t=window.innerHeight;this.keyboardOpen&&t>.9*this.initialHeight&&(this.keyboardOpen=!1,document.body.style.overflow="clip",window.scrollTo(0,0))},handleDateSelected(t){this.selectedDate=t,this.zodiacSign=this.calculateZodiacSign(t),this.age=this.calculateAge(t)},calculateZodiacSign(t){const e=t.split("-").map(Number),s=e[1],a=e[2];return 3===s&&a>=21||4===s&&a<=19?"Овен":4===s&&a>=20||5===s&&a<=20?"Телец":5===s&&a>=21||6===s&&a<=20?"Близнецы":6===s&&a>=21||7===s&&a<=22?"Рак":7===s&&a>=23||8===s&&a<=22?"Лев":8===s&&a>=23||9===s&&a<=22?"Дева":9===s&&a>=23||10===s&&a<=22?"Весы":10===s&&a>=23||11===s&&a<=21?"Скорпион":11===s&&a>=22||12===s&&a<=21?"Стрелец":12===s&&a>=22||1===s&&a<=19?"Козерог":1===s&&a>=20||2===s&&a<=18?"Водолей":2===s&&a>=19||3===s&&a<=20?"Рыбы":null},calculateAge(t){const e=new Date(t),s=new Date;let a=s.getFullYear()-e.getFullYear();const n=s.getMonth()>e.getMonth()||s.getMonth()===e.getMonth()&&s.getDate()>=e.getDate();return n||(a-=1),a},updateGender(t){this.selectedGender=t},updateLookingFor(t){this.selectedLookingFor=t}}};const bs=(0,lt.A)(vs,[["render",Be],["__scopeId","data-v-dde1311a"]]);var fs=bs;const ys=t=>((0,n.Qi)("data-v-2b041802"),t=t(),(0,n.jt)(),t),Ls={class:"container"},Cs={class:"messDiv text-center"},Ds={key:0},ws=ys((()=>(0,n.Lk)("br",null,null,-1)));function As(t,e,s,a,i,o){const r=(0,n.g2)("CategorySelector"),l=(0,n.g2)("InterestSelector"),c=(0,n.g2)("QuestionsDisplay");return(0,n.uX)(),(0,n.CE)("div",Ls,[(0,n.Lk)("div",Cs,[(0,n.bF)(r,{selectedCategory:i.selectedCategory,onCategorySelected:o.selectCategory,onResetCategory:o.resetCategory},null,8,["selectedCategory","onCategorySelected","onResetCategory"]),o.isCategorySelected?((0,n.uX)(),(0,n.CE)("div",Ds,[ws,(0,n.bF)(l,{category:i.selectedCategory,onInterestSelected:o.addInterest},null,8,["category","onInterestSelected"]),(0,n.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>o.generateQuestions&&o.generateQuestions(...t)),class:"btn mt-4"},"Готово!"),i.questions.length>0?((0,n.uX)(),(0,n.Wv)(c,{key:0,questions:i.questions},null,8,["questions"])):(0,n.Q3)("",!0)])):(0,n.Q3)("",!0)])])}const xs={class:"category-selector"},_s={key:1,class:"buttons-container"},Ss=["onClick"];function Ms(t,e,s,a,i,o){return(0,n.uX)(),(0,n.CE)("div",xs,[s.selectedCategory?((0,n.uX)(),(0,n.CE)("button",{key:0,class:"btn bt-select move-to-top position-absolute top-0 start-50 translate-middle-x",onClick:e[0]||(e[0]=(...t)=>o.resetCategory&&o.resetCategory(...t))},(0,ut.v_)(s.selectedCategory)+" ↓ ",1)):((0,n.uX)(),(0,n.CE)("div",_s,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(i.categories,(t=>((0,n.uX)(),(0,n.CE)("button",{key:t,class:"btn bt-select category-button fade-in",onClick:e=>o.selectCategory(t)},(0,ut.v_)(t),9,Ss)))),128))]))])}var Es={props:["selectedCategory"],data(){return{categories:["Общение","Близость","Отношения"]}},methods:{selectCategory(t){this.$emit("category-selected",t)},resetCategory(){this.$emit("reset-category")}}};const Os=(0,lt.A)(Es,[["render",Ms],["__scopeId","data-v-15097438"]]);var Is=Os;const Ts=t=>((0,n.Qi)("data-v-9e8d036c"),t=t(),(0,n.jt)(),t),Fs=Ts((()=>(0,n.Lk)("h5",null,"Выбранные интересы:",-1))),$s={class:"interests-scroll-container"},Xs=["onClick"];function Ps(t,e,s,a,i,o){return(0,n.uX)(),(0,n.CE)("div",null,[Fs,(0,n.Lk)("div",$s,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(o.filteredInterests,(t=>((0,n.uX)(),(0,n.CE)("button",{key:t,class:(0,ut.C4)(["btn","bt-select","interest-button",{active:i.selectedInterests.includes(t)}]),onClick:e=>o.toggleInterest(t)},(0,ut.v_)(t),11,Xs)))),128))])])}var js={props:["category"],data(){return{allInterests:{"Общение":["Книги и литература","Кино и сериалы","Музыка","Видеоигры","Путешествия","Кулинария","Спорт","Искусство","Фотография","Театр и мюзиклы","Технологии и гаджеты","Наука и космос","Психология и саморазвитие","Философия","Мода и стиль","Животные","Настольные игры","Образование и учеба","Автомобили и мотоциклы","Фитнес и здоровье","История","Хобби и ремесла","Комиксы и аниме","Волонтерство и социальные проекты"],"Близость":["Чувственность и романтика","Эмоциональная связь","Эксперименты и новизна","Нежные разговоры","Ароматы и атмосфера","Тактильные ощущения","Музыка и ритм","Игровые моменты","Взаимная инициатива","Доверие и открытость","Поцелуи","Темп и ритм","Общение о желаниях","Приключения вне дома","Игры с ощущениями","Границы и их уважение","Одежда и детали","Юмор и лёгкость","Энергетика и страсть","Долгие прелюдии","Объятия и физическое тепло","Глаза и зрительный контакт","Спонтанность","Сюрпризы и подарки","Особое внимание к деталям"],"Отношения":["Спорт","Творчество","Саморазвитие","Психология","Семейные ценности","Юмор","Поддержка"]},selectedInterests:[]}},computed:{filteredInterests(){return this.allInterests[this.category]||[]}},methods:{toggleInterest(t){this.selectedInterests.includes(t)?this.selectedInterests=this.selectedInterests.filter((e=>e!==t)):this.selectedInterests.push(t)}}};const Ns=(0,lt.A)(js,[["render",Ps],["__scopeId","data-v-9e8d036c"]]);var Us=Ns;const Qs={class:"questions-display mt-4"},qs=(0,n.Lk)("h5",null,"Ответьте на вопросы:",-1),Bs=["value"];function Gs(t,e,s,a,i,o){return(0,n.uX)(),(0,n.CE)("div",Qs,[qs,(0,n.Lk)("textarea",{class:"form-control",rows:"6",value:o.formattedQuestions,readonly:""},null,8,Bs)])}var Hs={props:["questions"],computed:{formattedQuestions(){return this.questions.join("\n")}}};const Rs=(0,lt.A)(Hs,[["render",Gs]]);var Ys=Rs,zs={components:{CategorySelector:Is,InterestSelector:Us,QuestionsDisplay:Ys},data(){return{selectedCategory:null,selectedInterests:[],questions:[]}},computed:{isCategorySelected(){return!!this.selectedCategory}},methods:{selectCategory(t){this.selectedCategory=t},resetCategory(){this.selectedCategory=null,this.selectedInterests=[],this.questions=[]},addInterest(t){this.selectedInterests.includes(t)||this.selectedInterests.push(t)},generateQuestions(){this.questions=this.selectedInterests.map((t=>{switch(t){case"Кино":return"Какое ваше любимое кино?";case"Музыка":return"Какой жанр музыки вы любите и какой ваш любимый исполнитель?";case"Сериалы":return"Какой сериал вы смотрели недавно?";default:return`Расскажите о вашем интересе к "${t}"`}}))}}};const Ks=(0,lt.A)(zs,[["render",As],["__scopeId","data-v-2b041802"]]);var Ws=Ks;const Js=t=>((0,n.Qi)("data-v-18ebbf82"),t=t(),(0,n.jt)(),t),Zs={class:"messDiv"},Vs=Js((()=>(0,n.Lk)("h1",{class:"position-absolute start-50 translate-middle"}," Анкета готова! ",-1))),ta=Js((()=>(0,n.Lk)("p",{class:"position-absolute start-50 translate-middle"},"Мы временно отключили возможность вносить изменения в профиль, но скоро это исправим",-1)));function ea(t,e,s,a,i,o){return(0,n.uX)(),(0,n.CE)("div",Zs,[Vs,ta,(0,n.Lk)("button",{type:"button",onClick:e[0]||(e[0]=(...t)=>o.loadCreatePerson&&o.loadCreatePerson(...t)),class:"btn btn-lg btnBg position-absolute start-50 translate-middle"},"Начать")])}var sa={data(){return{tg:window.Telegram.WebApp}},computed:{...(0,x.aH)(["currentComponent"])},methods:{...(0,x.i0)(["updateUserData","updateAnketData","changeComponent"]),async loaderInfo(){try{const t=await D("/",{initData:this.tg.initData,initDataUnsafe:this.tg.initDataUnsafe,platform:this.tg.platform});t.user&&(t.user.token=t.token,this.updateUserData({...t.user}),this.updateAnketData(t.ankets))}catch(t){console.error("Ошибка загрузки данных:",t)}},loadCreatePerson(){this.changeComponent("AnketsNew")}},mounted(){this.loaderInfo()}};const aa=(0,lt.A)(sa,[["render",ea],["__scopeId","data-v-18ebbf82"]]);var na=aa;const ia=t=>((0,n.Qi)("data-v-3756c1f8"),t=t(),(0,n.jt)(),t),oa={class:"messDiv"},ra=ia((()=>(0,n.Lk)("h1",{class:"position-absolute start-50 translate-middle"}," К сожалению сейчас анкеты закончились... ",-1))),la=ia((()=>(0,n.Lk)("p",{class:"position-absolute start-50 translate-middle"},"Поделитесь нашим приложением с друзьями, чтобы анкет стало больше",-1)));function ca(t,e,s,a,i,o){return(0,n.uX)(),(0,n.CE)("div",oa,[ra,la,(0,n.Lk)("button",{type:"button",onClick:e[0]||(e[0]=(...t)=>o.loadCreatePerson&&o.loadCreatePerson(...t)),class:"btn btn-lg btnBg position-absolute start-50 translate-middle"},"Поделиться")])}var da={computed:{...(0,x.aH)(["currentComponent"])},methods:{...(0,x.i0)(["changeComponent"]),loadCreatePerson(){this.changeComponent("repost")}}};const ua=(0,lt.A)(da,[["render",ca],["__scopeId","data-v-3756c1f8"]]);var ha=ua;const pa=t=>((0,n.Qi)("data-v-d751eb82"),t=t(),(0,n.jt)(),t),ga={class:"container cls"},ma={class:""},ka={class:"p-5 rounded mt-3"},va=pa((()=>(0,n.Lk)("h3",null,"Поделитесь с друзьями ссылкой на приложение",-1))),ba=pa((()=>(0,n.Lk)("hr",null,null,-1)));function fa(t,e,s,a,i,o){return(0,n.uX)(),(0,n.CE)("main",ga,[(0,n.Lk)("div",ma,[(0,n.Lk)("div",ka,[va,ba,(0,n.Lk)("a",{class:"btn btn-lg wbtn",role:"button",onClick:e[0]||(e[0]=(...t)=>o.shareBot&&o.shareBot(...t))},"Поделиться ссылкой")])])])}var ya={name:"repostApp",computed:{...(0,x.aH)(["currentComponent"])},methods:{...(0,x.i0)(["changeComponent","updateMenuData"]),shareBot(){const t="Попробуй новое приложение для знакомств в Telegram",e="https://t.me/Peachstone_bot",s=`https://t.me/share/url?url=${e}&text=${t}`;window.location.href=s}},mounted(){this.updateMenuData(!0)}};const La=(0,lt.A)(ya,[["render",fa],["__scopeId","data-v-d751eb82"]]);var Ca=La;const Da=t=>((0,n.Qi)("data-v-fac16514"),t=t(),(0,n.jt)(),t),wa={class:"container mb-9"},Aa={class:""},xa={class:"peach-background"},_a={class:"profile-header"},Sa=["src"],Ma=Da((()=>(0,n.Lk)("br",null,null,-1))),Ea=Da((()=>(0,n.Lk)("br",null,null,-1))),Oa={class:"profile-info"},Ia=Da((()=>(0,n.Lk)("div",{class:"message"},[(0,n.Lk)("p",null,"Редактирование анкет временно недоступно. Приложение находится в разработке")],-1))),Ta=(0,n.Fv)('<div class="container text-center p-3" data-v-fac16514><div class="card mb-3 premium-card text-dark shadow-lg p-3 mb-5 bg-light rounded" data-v-fac16514><div class="card-body" data-v-fac16514><h5 class="card-title" data-v-fac16514><i class="fas fa-heart" data-v-fac16514></i> Верификация аккаунта </h5><p class="card-text" data-v-fac16514>расширенные возможности для знакомств и общения</p></div></div></div><br data-v-fac16514>',2);function Fa(t,e,s,a,i,o){return(0,n.uX)(),(0,n.CE)("main",wa,[(0,n.Lk)("div",Aa,[(0,n.Lk)("div",xa,[(0,n.Lk)("div",_a,[(0,n.Lk)("img",{src:"/api/users/f1/"+t.user.avatar||0,alt:"Avatar",style:{cursor:"pointer"}},null,8,Sa),Ma,Ea,(0,n.Lk)("h2",null,(0,ut.v_)(t.user.name)+", "+(0,ut.v_)(t.user.birthdate),1),(0,n.Lk)("div",Oa,[(0,n.Lk)("p",null,(0,ut.v_)(t.user.about),1)]),Ia])])]),Ta])}var $a={name:"editPerson",data(){return{}},methods:{},computed:{...(0,x.aH)(["user"])},created(){},mounted(){}};const Xa=(0,lt.A)($a,[["render",Fa],["__scopeId","data-v-fac16514"]]);var Pa=Xa,ja={name:"App",components:{createPerson:dt,AnketsNew:zt,matchAnkets:Se,messReg:Xe,firstReg:fs,twoReg:Ws,sucReg:na,noAncets:ha,repost:Ca,editPerson:Pa},data(){return{loading:!0,tg:window.Telegram.WebApp}},computed:{...(0,x.aH)(["user","anket","currentComponent","actMenu"])},methods:{...(0,x.i0)(["updateUserData","updateAnketData","changeComponent","updateMenuData"]),async calculateAge(t){const e=new Date,s=new Date(t);let a=e.getFullYear()-s.getFullYear();const n=e.getMonth()-s.getMonth();return(n<0||0===n&&e.getDate()<s.getDate())&&a--,a},async loaderInfo(){try{const t=await D("/",{initData:this.tg.initData,initDataUnsafe:this.tg.initDataUnsafe,platform:this.tg.platform});t.user?(t.user.token=t.token,t.user.birthdate=await this.calculateAge(t.user.birthdate),this.updateUserData({...t.user}),this.updateAnketData(t.ankets),this.loadComponent("AnketsNew"),setTimeout((()=>{this.loading=!1}),3e3)):(this.updateUserData({token:t.token}),this.updateMenuData(!1),this.loadComponent("messReg"),setTimeout((()=>{this.loading=!1}),3e3))}catch(t){console.error("Ошибка загрузки данных:",t)}},loadComponent(t){this.changeComponent(t)}},mounted(){this.loaderInfo()}};const Na=(0,lt.A)(ja,[["render",L],["__scopeId","data-v-33988175"]]);var Ua=Na;const Qa=(0,x.y$)({state:{currentComponent:null,actMenu:!1,anket:[],actions:[],user:{id:null,name:"",birthdate:null,avatar:"",searchsex:"",sex:"",about:"",token:"",tid:null}},mutations:{setCurrentComponent(t,e){t.currentComponent=e},SET_ANKET_DATA(t,e){t.anket=e},ADD_ANKET_DATA(t,e){t.anket.push(...e)},DEL_ANKET_DATA(t,e){t.anket.splice(0,e)},SET_USER_DATA(t,e){t.user={...t.user,...e}},SET_ACTIONS_DATA(t,e){t.actions.push(e)},DELL_ACTIONS_DATA(t){t.actions=[]},SET_MENU_DATA(t,e){t.actMenu=e}},actions:{changeComponent({commit:t},e){t("setCurrentComponent",e)},updateAnketData({commit:t},e){t("SET_ANKET_DATA",e)},addAnketData({commit:t},e){t("ADD_ANKET_DATA",e)},dellAnketData({commit:t},e){t("DEL_ANKET_DATA",e)},dellActionsData({commit:t},e){t("DELL_ACTIONS_DATA",e)},updateUserData({commit:t},e){t("SET_USER_DATA",e)},updateActionsData({commit:t},e){t("SET_ACTIONS_DATA",e)},updateMenuData({commit:t},e){t("SET_MENU_DATA",e)}}});var qa=Qa,Ba=s(2500);const Ga=(0,a.Ef)(Ua);Ga.use(qa),Ga.use(Ba.A),Ga.mount("#app")},8026:function(t,e,s){t.exports=s.p+"img/noAvatar.9d0dc018.jpg"}},e={};function s(a){var n=e[a];if(void 0!==n)return n.exports;var i=e[a]={exports:{}};return t[a].call(i.exports,i,i.exports,s),i.exports}s.m=t,function(){var t=[];s.O=function(e,a,n,i){if(!a){var o=1/0;for(d=0;d<t.length;d++){a=t[d][0],n=t[d][1],i=t[d][2];for(var r=!0,l=0;l<a.length;l++)(!1&i||o>=i)&&Object.keys(s.O).every((function(t){return s.O[t](a[l])}))?a.splice(l--,1):(r=!1,i<o&&(o=i));if(r){t.splice(d--,1);var c=n();void 0!==c&&(e=c)}}return e}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[a,n,i]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.p="/"}(),function(){var t={524:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var n,i,o=a[0],r=a[1],l=a[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(n in r)s.o(r,n)&&(s.m[n]=r[n]);if(l)var d=l(s)}for(e&&e(a);c<o.length;c++)i=o[c],s.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return s.O(d)},a=self["webpackChunkpeach_client"]=self["webpackChunkpeach_client"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],(function(){return s(4065)}));a=s.O(a)})();
//# sourceMappingURL=app.80b86d7e.js.map